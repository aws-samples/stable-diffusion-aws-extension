
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Stable Diffusion 亚马逊云科技插件解决方案实施指南">
      
      
      
        <link rel="canonical" href="https://awslabs.github.io/stable-diffusion-aws-extension/developer-guide/api/">
      
      
        <link rel="prev" href="../source/">
      
      
        <link rel="next" href="../../troubleshooting/">
      
      
      <link rel="icon" href="https://s3.cn-north-1.amazonaws.com.cn/aws-assets-prod/libra-css/images/site/fav/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.8">
    
    
      
        <title>Stable Diffusion AWS extension API v2023-07-05 - Stable Diffusion 亚马逊云科技插件解决方案</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Stable Diffusion 亚马逊云科技插件解决方案" class="md-header__button md-logo" aria-label="Stable Diffusion 亚马逊云科技插件解决方案" data-md-component="logo">
      
  <img src="https://s3.cn-north-1.amazonaws.com.cn/aws-assets-prod/libra-css/images/site/fav/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Stable Diffusion 亚马逊云科技插件解决方案
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stable Diffusion AWS extension API v2023-07-05
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="选择当前语言">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/stable-diffusion-aws-extension/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/stable-diffusion-aws-extension/zh/" hreflang="zh" class="md-select__link">
              简体中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/awslabs/stable-diffusion-aws-extension" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    awslabs/stable-diffusion-aws-extension
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../.." class="md-tabs__link">
          
  
  实施指南

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Stable Diffusion 亚马逊云科技插件解决方案" class="md-nav__button md-logo" aria-label="Stable Diffusion 亚马逊云科技插件解决方案" data-md-component="logo">
      
  <img src="https://s3.cn-north-1.amazonaws.com.cn/aws-assets-prod/libra-css/images/site/fav/favicon.ico" alt="logo">

    </a>
    Stable Diffusion 亚马逊云科技插件解决方案
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/awslabs/stable-diffusion-aws-extension" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    awslabs/stable-diffusion-aws-extension
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    实施指南
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            实施指南
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" >
        
          <label class="md-nav__link" for="__nav_1_1" id="__nav_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    方案概述
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            方案概述
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../solution-overview/features-and-benefits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    功能和优势
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../cost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    成本预估
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    架构概览
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            架构概览
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture-overview/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    架构图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture-overview/architecture-details/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    架构细节
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    部署前的规划
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            部署前的规划
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plan-deployment/security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安全信息
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plan-deployment/regions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    区域支持
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plan-deployment/quotas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    配额信息
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    部署解决方案
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            部署解决方案
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模板信息
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    部署步骤
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../uninstall/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    卸载解决方案
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    用户指南
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            用户指南
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/preparation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    准备工作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/CloudAssetsManage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    云上资源管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/txt2img-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    txt2img指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/img2img-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    img2img指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/controlnet-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    controlNet指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/dreambooth-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dreambooth指南
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" checked>
        
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    开发者指南
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            开发者指南
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    源代码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API调用指南
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    故障排除
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常见问题解答
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../revisions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文档修订信息
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../notices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    声明
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<!-- Generator: Widdershins v4.0.1 -->

<h1 id="stable-diffusion-train-and-deploy-api">Stable Diffusion 亚马逊云科技插件 API</h1>

<h1 id="_1">概述</h1>
<p>本文档描述了Stable Diffusion 亚马逊云科技插件解决方案的所有 API。此解决方案包括两个部分，一部分是Stable Diffusion WebUI 扩展，它是基于 Gradio 的客户端，提供用户友好的界面，另一部分是称为中间件的资源部署在 AWS 云上，中间件提供了多个 API 接口，允许Stable Diffusion 亚马逊云科技插件客户端与 AWS 云上的服务进行交互，如 Sagemaker 和 S3，以执行模型更新/训练和推理操作。</p>
<p>为了支持不使用Stable Diffusion WebUI的用户，我们提供了本文档，列出了所有的 API 接口，以帮助用户了解如何调用 API 方法进行训练或推理。</p>
<p>在用户<a href="../../deployment/deployment/">部署</a>解决方案中间件 CloudFormation 后，用户可以在主堆栈的输出部分获取 API URL 和令牌。请参考<a href="../../deployment/deployment/">此文档</a>。</p>
<p><strong>URL示例:</strong></p>
<ul>
<li>https://API_Gateway_ID.execute-api.AWS_Account_Region.amazonaws.com/prod</li>
</ul>
<p><strong>认证</strong></p>
<ul>
<li>API Key (api_key)<ul>
<li>API 调用时您需要在标头的<strong>x-api-key</strong>参数中配置此值。</li>
</ul>
</li>
</ul>
<h1 id="_2">用户场景</h1>
<h2 id="1">1. 部署新的终端节点</h2>
<p><img alt="部署新的终端节点" src="../../images/deploy_sagemaker_endpoint.png" /></p>
<p>调用 <a href="#inferencedeploy-sagemaker-endpoint">/inference/deploy-sagemaker-endpoint</a> 来创建一个新的 Sagemaker 终端节点，您需要指定两个用于创建的参数，一个是 <code>instance_type</code>，可选值为 "ml.g4dn.2xlarge"、"ml.g4dn.4xlarge"、"ml.g4dn.8xlarge"、"ml.g4dn.12xlarge"，另一个是 <code>initial_instance_count</code>，可选值为 1|2|3|4。</p>
<p>在调用 <a href="#inferencedeploy-sagemaker-endpoint">/inference/deploy-sagemaker-endpoint</a> 后，您需要调用 <a href="#inferencelist-endpoint-deployment-jobs">/inference/list-endpoint-deployment-jobs</a> 来列出所有终端节点的状态。通常需要超过10分钟时间才能使新的 Sagemaker 终端节点更改为 "inService" 状态。Sagemaker 终端节点只能在 "inService" 状态下用于推理。</p>
<p>如果终端节点处于失败状态，您可以调用 <a href="#inferenceget-endpoint-deployment-job">/inference/get-endpoint-deployment-job</a> 并传递参数 <code>jobID</code>，响应将显示终端节点部署失败的原因，通常是由于 AWS 帐户配额限制引起的。</p>
<details>
  <summary>sequence digram raw</summary>

  title Create a Sagemaker Endpoint

Client->Middleware:Call /inference/deploy-sagemaker-endpoint
Middleware->Middleware: Start a workflow to configure sagemaker endpoint \n based on uer request configuration
Client->Middleware:Call /inference/list-endpoint-deployment-jobs \n to list all the endpoint creation job list
Client->Middleware:Call /inference/get-endpoint-deployment-job \n to check whether Sagemaker endpoint is in \n 'inService' state.

</details>

<h2 id="2">2. 上传模型</h2>
<h2 id="3">3. 训练模型</h2>
<h2 id="4">4. 进行推理</h2>
<p><img alt="进行推理" src="../../images/do-inference.png" />
在 Sagemaker 终端节点处于 "inService" 状态之后，您可以调用 <a href="#inference-l2-api">/inference-api/inference</a> 来进行文本到图像或图像到图像的推理。您需要在请求的 POST 主体中的 "sagemaker_endpoint" 参数中指定终端节点的名称。其他所需参数位于 <a href="#inference-l2-api">/inference-api/inference</a> 中。</p>
<p><a href="#inference-l2-api">/inference-api/inference</a> 将向客户端返回以下 JSON 结构：</p>
<p><div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;inference_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XXXXXXX&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inprogress | failed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;endpoint_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NAME_OF_ENDPOINT&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;output_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;path_of_prediction_output&quot;</span>
<span class="p">}</span>
</code></pre></div>
然后，客户端可以调用 <a href="#inferenceget-inference-job">/inference/get-inference-job</a>，并将 <code>inference_id</code> 作为参数来查询推理作业的状态。如果推理作业成功完成（状态为 "succeed"），客户端可以使用 <a href="#inferenceget-inference-job-image-output">/inference/get-inference-job-image-output</a> 来获取所有推理结果图像，这些图像将以 S3 预签名 URL 列表的形式返回，以便客户端下载。以下是一个示例，展示了 <code>get-inference-job-image-output</code> 的结果：</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="s2">&quot;https://stable-diffusion-aws-extension-aigcbucketa457cb49-1tlr2pqwkosg3.s3.amazonaws.com/out/1f9679f3-25b8-4c44-8345-0a845da30094/result/image_0.jpg&quot;</span>
<span class="p">]</span>
</code></pre></div>
<p>此外，客户端还可以调用 <a href="#inferenceget-inference-job-param-output">/inference/get-inference-job-param-output</a> 来获取所有推理参数，<a href="#inferenceget-inference-job-param-output">/inference/get-inference-job-param-output</a> 的响应是一个包含参数的 JSON 格式的 S3 预签名 URL，以下是一个响应示例：</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="s2">&quot;https://stable-diffusion-aws-extension-aigcbucketa457cb49-1tlr2pqwkosg3.s3.amazonaws.com/out/1f9679f3-25b8-4c44-8345-0a845da30094/result/1f9679f3-25b8-4c44-8345-0a845da30094_param.json&quot;</span>
<span class="p">]</span>
</code></pre></div>
<details>
  <summary>sequence digram raw</summary>

title Do Inference

Client->Middleware:Call **/inference-api/inference**
Middleware->Middleware: Start a async inference job \n on configure sagemaker endpoint \n based on uer request configuration
Middleware->Client: return inference_id 
Client->Middleware:Call **/inference/get-inference-job** \n to query the inference job status
Middleware->Client: return inference_id and the job status(inprocess | succeed | failure)

abox over Client: If the inference job is succeed, \n call **/inference/get-inference-job-image-output** and \n **/inference/get-inference-job-param-output** to get the \n inference result 
Client->Middleware:Call **/inference/get-inference-job-image-output** \n to get all inference result images.

Middleware->Client: return the inference result images in presigned url format

Client->Middleware:Call **/inference/get-inference-job-param-output** \n to get inference parameters.

Middleware->Client: return the inference parameter in presigned url format

</details>
<h1 id="api">API 列表</h1>
<table>
<thead>
<tr>
<th>序号</th>
<th>HTTP 方法</th>
<th>API 名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>GET</td>
<td><a href="#inferencetest-connection">/inference/test-connection</a></td>
<td>测试客户端是否可以连接到 API 并检查 API_TOKEN 是否正确</td>
</tr>
<tr>
<td>2</td>
<td>GET</td>
<td><a href="#inferencelist-inference-jobs">/inference/list-inference-jobs</a></td>
<td>列出所有推理作业。</td>
</tr>
<tr>
<td>3</td>
<td>GET</td>
<td><a href="#inferenceget-inference-job">/inference/get-inference-job</a></td>
<td>获取特定推理作业的详细信息。</td>
</tr>
<tr>
<td>4</td>
<td>GET</td>
<td><a href="#inferenceget-inference-job-image-output">/inference/get-inference-job-image-output</a></td>
<td>获取特定推理作业的图像输出。</td>
</tr>
<tr>
<td>5</td>
<td>GET</td>
<td><a href="#inferenceget-inference-job-param-output">/inference/get-inference-job-param-output</a></td>
<td>获取特定推理作业的参数输出。</td>
</tr>
<tr>
<td>6</td>
<td>POST</td>
<td><a href="#inference-l2-api">/inference-api/inference</a></td>
<td>使用默认参数运行 SageMaker 推理</td>
</tr>
<tr>
<td>7</td>
<td>POST</td>
<td><a href="#inferencedeploy-sagemaker-endpoint">/inference/deploy-sagemaker-endpoint</a></td>
<td>部署 SageMaker 终端节点。</td>
</tr>
<tr>
<td>8</td>
<td>POST</td>
<td><a href="#inferencedelete-sagemaker-endpoint">/inference/delete-sagemaker-endpoint</a></td>
<td>删除 SageMaker 终端节点。</td>
</tr>
<tr>
<td>9</td>
<td>GET</td>
<td><a href="#inferencelist-endpoint-deployment-jobs">/inference/list-endpoint-deployment-jobs</a></td>
<td>列出所有终端节点部署作业。</td>
</tr>
<tr>
<td>10</td>
<td>GET</td>
<td><a href="#inferenceget-endpoint-deployment-job">/inference/get-endpoint-deployment-job</a></td>
<td>获取特定终端节点部署作业。</td>
</tr>
<tr>
<td>11</td>
<td>GET</td>
<td><a href="#inferencegenerate-s3-presigned-url-for-uploading">/inference/generate-s3-presigned-url-for-uploading</a></td>
<td>生成用于上传的 S3 预签名 URL。</td>
</tr>
<tr>
<td>12</td>
<td>GET</td>
<td><a href="#inferenceget-texual-inversion-list">/inference/get-texual-inversion-list</a></td>
<td>获取文本反演列表。</td>
</tr>
<tr>
<td>13</td>
<td>GET</td>
<td><a href="#inferenceget-lora-list">/inference/get-lora-list</a></td>
<td>获取 LoRa 列表。</td>
</tr>
<tr>
<td>14</td>
<td>GET</td>
<td><a href="#inferenceget-hypernetwork-list">/inference/get-hypernetwork-list</a></td>
<td>获取超网络列表。</td>
</tr>
<tr>
<td>15</td>
<td>GET</td>
<td><a href="#inferenceget-controlnet-model-list">/inference/get-controlnet-model-list</a></td>
<td>获取 ControlNet 模型列表。</td>
</tr>
<tr>
<td>16</td>
<td>POST</td>
<td><a href="#inferencerun-model-merge">/inference/run-model-merge</a></td>
<td>运行模型合并。</td>
</tr>
<tr>
<td>17</td>
<td>POST</td>
<td><a href="#modelpost">/model</a></td>
<td>创建新模型。</td>
</tr>
<tr>
<td>18</td>
<td>PUT</td>
<td><a href="#modelput">/model</a></td>
<td>上传模型文件。</td>
</tr>
<tr>
<td>19</td>
<td>GET</td>
<td><a href="#modelsget">/models</a></td>
<td>列出所有模型。</td>
</tr>
<tr>
<td>20</td>
<td>GET</td>
<td><a href="#checkpoint">/checkpoint</a></td>
<td>获取检查点。</td>
</tr>
<tr>
<td>21</td>
<td>PUT</td>
<td><a href="#checkpointput">/checkpoint</a></td>
<td>更新检查点。</td>
</tr>
<tr>
<td>22</td>
<td>GET</td>
<td><a href="#checkpoints">/checkpoints</a></td>
<td>列出所有检查点。</td>
</tr>
<tr>
<td>23</td>
<td>POST</td>
<td><a href="#train-api-post">/train-api/train</a></td>
<td>启动训练作业。</td>
</tr>
<tr>
<td>24</td>
<td>PUT</td>
<td><a href="#trainput">/train</a></td>
<td>更新训练作业。</td>
</tr>
<tr>
<td>25</td>
<td>GET</td>
<td><a href="#trainsget">/trains</a></td>
<td>列出所有训练作业。</td>
</tr>
<tr>
<td>26</td>
<td>POST</td>
<td><a href="#datasetpost">/dataset</a></td>
<td>创建新数据集。</td>
</tr>
<tr>
<td>27</td>
<td>PUT</td>
<td><a href="#datasetput">/dataset</a></td>
<td>更新数据集。</td>
</tr>
<tr>
<td>28</td>
<td>GET</td>
<td><a href="#datasetsget">/datasets</a></td>
<td>列出所有数据集。</td>
</tr>
<tr>
<td>29</td>
<td>GET</td>
<td><a href="#dataset_namedata">/{dataset_name}/data</a></td>
<td>获取特定数据集的数据。</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferencetest-connection">/inference/test-connection</h1>
<h2 id="_3">测试中间件连接状态</h2>
<p><a id="opIdtest_connection_get"></a></p>
<h3 id="_4"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/test-connection&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/test-connection&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/test-connection</code></p>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Success&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="used-to-let-client-test-connection-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inference-apiinference">/inference-api/inference</h1>
<p>文生图，通过文字生成图片</p>
<p><a id="inference-l2-api"></a></p>
<h3 id="_5"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>
<span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;task_type&quot;</span><span class="p">:</span> <span class="s2">&quot;txt2img&quot;</span><span class="p">,</span>
  <span class="s2">&quot;models&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;v1-5-pruned-emaonly.safetensors&quot;</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;sagemaker_endpoint_name&quot;</span><span class="p">:</span> <span class="s2">&quot;infer-endpoint-cb821ea&quot;</span><span class="p">,</span>
  <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;a cute panda&quot;</span><span class="p">,</span>
  <span class="s2">&quot;denoising_strength&quot;</span><span class="p">:</span> <span class="mf">0.75</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s2">/inference-api/inference&quot;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">body</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;task_type&quot;: &quot;txt2img&quot;,</span>
<span class="s1">  &quot;models&quot;: {</span>
<span class="s1">    &quot;Stable-diffusion&quot;: [</span>
<span class="s1">      &quot;v1-5-pruned-emaonly.safetensors&quot;</span>
<span class="s1">    ]</span>
<span class="s1">  },</span>
<span class="s1">  &quot;sagemaker_endpoint_name&quot;: &quot;infer-endpoint-cb821ea&quot;,</span>
<span class="s1">  &quot;prompt&quot;: &quot;a cute panda&quot;,</span>
<span class="s1">  &quot;denoising_strength&quot;: 0.75</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s2">&quot;Content-Type&quot;</span><span class="o">:</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s2">&quot;Accept&quot;</span><span class="o">:</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference-api/inference&quot;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;POST&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>POST /inference-api/inference</code></p>
<blockquote>
<p>Body</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;task_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;txt2img&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;models&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;Stable-diffusion&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;v1-5-pruned-emaonly.safetensors&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;sagemaker_endpoint_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;infer-endpoint-cb821ea&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;a cute panda&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;denoising_strength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.75</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="inference-api">参数</h3>

<blockquote>
<p>Parameter example</p>
</blockquote>
<p>Below JSON shows the parameters with default value. 
sagemaker_endpoint_name, task_type, prompt and Stable-diffusion are mandatory, other parameters are optional.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;sagemaker_endpoint_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;infer-endpoint-ef3abcd&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;task_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;txt2img&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;models&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;Stable-diffusion&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;v1-5-pruned-emaonly.safetensors&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;Lora&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;raidenshogun1-000009.safetensors&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;enable_hr&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;denoising_strength&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;firstphase_width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;firstphase_height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hr_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hr_upscaler&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Latent&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hr_second_pass_steps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hr_resize_x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hr_resize_y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hr_sampler_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hr_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;hr_negative_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;styles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;seed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subseed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subseed_strength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;seed_resize_from_h&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;seed_resize_from_w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;sampler_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Euler a&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;batch_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;n_iter&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;steps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;cfg_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">7.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;restore_faces&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tiling&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;do_not_save_samples&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;do_not_save_grid&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;negative_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;eta&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;s_min_uncond&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;s_churn&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;s_tmax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;s_tmin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;s_noise&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;override_settings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="nt">&quot;override_settings_restore_afterwards&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;script_args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;sampler_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Euler a&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;script_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;send_images&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;save_images&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;alwayson_scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;controlnet&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;none&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;None&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;resize_mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Crop and Resize&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;low_vram&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;processor_res&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;threshold_a&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;threshold_b&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;guidance_start&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;guidance_end&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;pixel_perfect&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;control_mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Balanced&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;is_ui&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;input_mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;simple&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;batch_images&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;output_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;loopback&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;extra options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;inference_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XXXXXXX&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inprogress | failed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;endpoint_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NAME_OF_ENDPOINT&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;output_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;path_of_prediction_output&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="inference-api">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferencedeploy-sagemaker-endpoint">/inference/deploy-sagemaker-endpoint</h1>
<p><a id="opIddeploy_sagemaker_endpoint_inference_deploy_sagemaker_endpoint_post"></a></p>
<h3 id="_6"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>
<span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;instance_type&quot;</span><span class="p">:</span> <span class="s2">&quot;ml.g4dn.xlarge | ml.g4dn.2xlarge | ml.g4dn.4xlarge&quot;</span><span class="p">,</span>
    <span class="s2">&quot;initial_instance_count&quot;</span><span class="p">:</span> <span class="s2">&quot;1|2|3|4&quot;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/deploy-sagemaker-endpoint&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;instance_type&quot;: &quot;ml.g4dn.xlarge | ml.g4dn.2xlarge | ml.g4dn.4xlarge&quot;,</span>
<span class="s1">  &quot;initial_instance_count&quot;: &quot;1|2|3|4&quot;</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/deploy-sagemaker-endpoint&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>POST /inference/deploy-sagemaker-endpoint</code></p>
<blockquote>
<p>Body参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;instance_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ml.g4dn.xlarge | ml.g4dn.2xlarge | ml.g4dn.4xlarge&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;initial_instance_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1|2|3|4&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="deploy-sagemaker-endpoint-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kc">null</span>
</code></pre></div>
<h3 id="deploy-sagemaker-endpoint-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferencedelete-sagemaker-endpoint">/inference/delete-sagemaker-endpoint</h1>
<p><a id="opIddelete_sagemaker_endpoint_inference_delete_sagemaker_endpoint_post"></a></p>
<h3 id="_7"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;delete_endpoint_list&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="s2">&quot;infer-endpoint-XXXXXX&quot;</span><span class="p">,</span>
  <span class="s2">&quot;infer-endpoint-YYYYYY&quot;</span>
<span class="p">]</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/delete-sagemaker-endpoint&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;delete_endpoint_list&quot;: [</span>
<span class="s1">    &quot;infer-endpoint-XXXXXX&quot;,</span>
<span class="s1">    &quot;infer-endpoint-YYYYYY&quot;</span>
<span class="s1">  ]</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/delete-sagemaker-endpoint&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>POST /inference/delete-sagemaker-endpoint</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;delete_endpoint_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;infer-endpoint-XXXXXX&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;infer-endpoint-YYYYYY&quot;</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="delete-sagemaker-endpoint-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kc">null</span>
</code></pre></div>
<h3 id="delete-sagemaker-endpoint-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferencelist-endpoint-deployment-jobs">/inference/list-endpoint-deployment-jobs</h1>
<p><a id="opIdlist_endpoint_deployment_jobs_inference_list_endpoint_deployment_jobs_get"></a></p>
<h3 id="_8"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/list-endpoint-deployment-jobs&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/list-endpoint-deployment-jobs&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/list-endpoint-deployment-jobs</code></p>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;EndpointDeploymentJobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e0f9ccfd-8d14-4e77-9e75-b340e1ef23c8&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 08:00:35.171309&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;endTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 08:00:37.158519&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;EndpointDeploymentJobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1bd447d2-e561-4cb3-965d-2707b30aea81&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 08:00:22.435828&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;endTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 08:00:25.421777&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;EndpointDeploymentJobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cb821ea9-e9d1-4bae-98f8-c20ecadf11e0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 08:00:47.736033&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;endTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 08:12:55.148070&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;endpoint_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;infer-endpoint-cb821ea&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;endpoint_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;InService&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<h3 id="list-endpoint-deployment-jobs-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferencelist-inference-jobs">/inference/list-inference-jobs</h1>
<p><a id="opIdlist_inference_jobs_inference_list_inference_jobs_get"></a></p>
<h3 id="_9"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/list-inference-jobs&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/list-inference-jobs&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/list-inference-jobs</code></p>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;inference_info_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/417d8bc5-f6d0-49c6-9669-c981beeb602a_param.json&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 09:14:21.170303&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;taskType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;txt2img&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;completeTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04-09-14-26&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;InferenceJobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;417d8bc5-f6d0-49c6-9669-c981beeb602a&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;succeed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;sagemakerRaw&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;image_names&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;image_0.jpg&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;inference_info_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/1f9679f3-25b8-4c44-8345-0a845da30094_param.json&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-05 06:38:45.752740&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;taskType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;txt2img&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;completeTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-05-06-38-49&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;InferenceJobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1f9679f3-25b8-4c44-8345-0a845da30094&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;succeed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;sagemakerRaw&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{&#39;awsRegion&#39;: &#39;us-west-2&#39;, &#39;eventTime&#39;: &#39;2023-07-05T06:38:47.73Z&#39;, &#39;receivedTime&#39;: &#39;2023-07-05T06:38:45.725Z&#39;, &#39;invocationStatus&#39;: &#39;Completed&#39;, &#39;requestParameters&#39;: {&#39;accept&#39;: &#39;*/*&#39;, &#39;endpointName&#39;: &#39;infer-endpoint-cb821ea&#39;, &#39;inputLocation&#39;: &#39;s3://sagemaker-us-west-2-489670441870/async-endpoint-inputs/infer-endpoint-cb821ea-230705-0638/2023-07-05-06-38-45-445-81a1ec03-f000-4a20-9a60-032ab1558a9d&#39;}, &#39;responseParameters&#39;: {&#39;contentType&#39;: &#39;application/json&#39;, &#39;outputLocation&#39;: &#39;s3://stable-diffusion-aws-extension-aigcbucketa457cb49-1tlr2pqwkosg3/sagemaker_output/211d2095-68bc-4404-a9e1-8a18a41f4dc7.out&#39;}, &#39;inferenceId&#39;: &#39;1f9679f3-25b8-4c44-8345-0a845da30094&#39;, &#39;eventVersion&#39;: &#39;1.0&#39;, &#39;eventSource&#39;: &#39;aws:sagemaker&#39;, &#39;eventName&#39;: &#39;InferenceResult&#39;}&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;image_names&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;image_0.jpg&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<h3 id="list-inference-jobs-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferenceget-endpoint-deployment-job">/inference/get-endpoint-deployment-job</h1>
<p><a id="opIdget_endpoint_deployment_job_inference_get_endpoint_deployment_job_get"></a></p>
<h3 id="_10"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/get-endpoint-deployment-job&#39;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s1">&#39;jobID&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/get-endpoint-deployment-job?jobID=string&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/get-endpoint-deployment-job</code></p>
<h3 id="get-endpoint-deployment-job-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>jobID</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;EndpointDeploymentJobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cb821ea9-e9d1-4bae-98f8-c20ecadf11e0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 08:00:47.736033&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;endTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-04 08:12:55.148070&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;endpoint_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;infer-endpoint-cb821ea&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;endpoint_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;InService&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="get-endpoint-deployment-job-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
<tr>
<td>422</td>
<td><a href="https://tools.ietf.org/html/rfc2518#section-10.3">Unprocessable Entity</a></td>
<td>Validation Error</td>
<td><a href="#schemahttpvalidationerror">HTTPValidationError</a></td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferenceget-inference-job">/inference/get-inference-job</h1>
<p><a id="opIdget_inference_job_inference_get_inference_job_get"></a></p>
<h3 id="_11"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/get-inference-job&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/get-inference-job&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/get-inference-job</code></p>
<h3 id="get-inference-job-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>jobID</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;inference_info_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/tmp/1f9679f3-25b8-4c44-8345-0a845da30094_param.json&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-05 06:38:45.752740&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;taskType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;txt2img&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;completeTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-07-05-06-38-49&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;InferenceJobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1f9679f3-25b8-4c44-8345-0a845da30094&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;succeed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;sagemakerRaw&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{&#39;awsRegion&#39;: &#39;us-west-2&#39;, &#39;eventTime&#39;: &#39;2023-07-05T06:38:47.73Z&#39;, &#39;receivedTime&#39;: &#39;2023-07-05T06:38:45.725Z&#39;, &#39;invocationStatus&#39;: &#39;Completed&#39;, &#39;requestParameters&#39;: {&#39;accept&#39;: &#39;*/*&#39;, &#39;endpointName&#39;: &#39;infer-endpoint-cb821ea&#39;, &#39;inputLocation&#39;: &#39;s3://sagemaker-us-west-2-489670441870/async-endpoint-inputs/infer-endpoint-cb821ea-230705-0638/2023-07-05-06-38-45-445-81a1ec03-f000-4a20-9a60-032ab1558a9d&#39;}, &#39;responseParameters&#39;: {&#39;contentType&#39;: &#39;application/json&#39;, &#39;outputLocation&#39;: &#39;s3://stable-diffusion-aws-extension-aigcbucketa457cb49-1tlr2pqwkosg3/sagemaker_output/211d2095-68bc-4404-a9e1-8a18a41f4dc7.out&#39;}, &#39;inferenceId&#39;: &#39;1f9679f3-25b8-4c44-8345-0a845da30094&#39;, &#39;eventVersion&#39;: &#39;1.0&#39;, &#39;eventSource&#39;: &#39;aws:sagemaker&#39;, &#39;eventName&#39;: &#39;InferenceResult&#39;}&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;image_names&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;image_0.jpg&quot;</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="get-inference-job-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
<tr>
<td>422</td>
<td><a href="https://tools.ietf.org/html/rfc2518#section-10.3">Unprocessable Entity</a></td>
<td>Validation Error</td>
<td><a href="#schemahttpvalidationerror">HTTPValidationError</a></td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferenceget-inference-job-image-output">/inference/get-inference-job-image-output</h1>
<p><a id="opIdget_inference_job_image_output_inference_get_inference_job_image_output_get"></a></p>
<h3 id="_12"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/get-inference-job-image-output&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/get-inference-job-image-output&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/get-inference-job-image-output</code></p>
<h3 id="get-inference-job-image-output-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>jobID</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="s2">&quot;https://stable-diffusion-aws-extension-aigcbucketa457cb49-1tlr2pqwkosg3.s3.amazonaws.com/out/1f9679f3-25b8-4c44-8345-0a845da30094/result/image_0.jpg&quot;</span>
<span class="p">]</span>
</code></pre></div>
<h3 id="get-inference-job-image-output-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
<tr>
<td>422</td>
<td><a href="https://tools.ietf.org/html/rfc2518#section-10.3">Unprocessable Entity</a></td>
<td>Validation Error</td>
<td><a href="#schemahttpvalidationerror">HTTPValidationError</a></td>
</tr>
</tbody>
</table>
<h3 id="get-inference-job-image-output-responseschema">响应结构</h3>

<p>状态码 <strong>200</strong></p>
<p><em>Response Get Inference Job Image Output Inference Get Inference Job Image Output Get</em></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否需要填写</th>
<th>限制</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>Response Get Inference Job Image Output Inference Get Inference Job Image Output Get</td>
<td>[string]</td>
<td>false</td>
<td>none</td>
<td>none</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferenceget-inference-job-param-output">/inference/get-inference-job-param-output</h1>
<p><a id="opIdget_inference_job_param_output_inference_get_inference_job_param_output_get"></a></p>
<h3 id="_13"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/get-inference-job-param-output&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/get-inference-job-param-output&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/get-inference-job-param-output</code></p>
<h3 id="get-inference-job-param-output-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>jobID</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">  </span><span class="s2">&quot;https://stable-diffusion-aws-extension-aigcbucketa457cb49-1tlr2pqwkosg3.s3.amazonaws.com/out/1f9679f3-25b8-4c44-8345-0a845da30094/result/1f9679f3-25b8-4c44-8345-0a845da30094_param.json&quot;</span>
<span class="p">]</span>
</code></pre></div>
<h3 id="get-inference-job-param-output-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
<tr>
<td>422</td>
<td><a href="https://tools.ietf.org/html/rfc2518#section-10.3">Unprocessable Entity</a></td>
<td>Validation Error</td>
<td><a href="#schemahttpvalidationerror">HTTPValidationError</a></td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferencegenerate-s3-presigned-url-for-uploading">/inference/generate-s3-presigned-url-for-uploading</h1>
<p><a id="opIdgenerate_s3_presigned_url_for_uploading_inference_generate_s3_presigned_url_for_uploading_get"></a></p>
<h3 id="_14"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/generate-s3-presigned-url-for-uploading&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/generate-s3-presigned-url-for-uploading&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/generate-s3-presigned-url-for-uploading</code></p>
<h3 id="generate-s3-presigned-url-for-uploading-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>s3_bucket_name</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>key</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="s2">&quot;https://stable-diffusion-aws-extension-aigcbucketa457cb49-1tlr2pqwkosg3.s3.amazonaws.com/config/aigc.json?XXX&quot;</span>
</code></pre></div>
<h3 id="generate-s3-presigned-url-for-uploading-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>string</td>
</tr>
<tr>
<td>422</td>
<td><a href="https://tools.ietf.org/html/rfc2518#section-10.3">Unprocessable Entity</a></td>
<td>Validation Error</td>
<td><a href="#schemahttpvalidationerror">HTTPValidationError</a></td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferenceget-texual-inversion-list">/inference/get-texual-inversion-list</h1>
<p><a id="opIdget_texual_inversion_list_inference_get_texual_inversion_list_get"></a></p>
<h3 id="_15"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/get-texual-inversion-list&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/get-texual-inversion-list&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/get-texual-inversion-list</code></p>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kc">null</span>
</code></pre></div>
<h3 id="get-textual-inversion-list-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferenceget-lora-list">/inference/get-lora-list</h1>
<p><a id="opIdget_lora_list_inference_get_lora_list_get"></a></p>
<h3 id="_16"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/get-lora-list&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/get-lora-list&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/get-lora-list</code></p>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kc">null</span>
</code></pre></div>
<h3 id="get-lora-list-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferenceget-hypernetwork-list">/inference/get-hypernetwork-list</h1>
<p><a id="opIdget_hypernetwork_list_inference_get_hypernetwork_list_get"></a></p>
<h3 id="_17"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/get-hypernetwork-list&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/get-hypernetwork-list&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/get-hypernetwork-list</code></p>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kc">null</span>
</code></pre></div>
<h3 id="get-hypernetwork-list-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferenceget-controlnet-model-list">/inference/get-controlnet-model-list</h1>
<p><a id="opIdget_controlnet_model_list_inference_get_controlnet_model_list_get"></a></p>
<h3 id="_18"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/get-controlnet-model-list&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/get-controlnet-model-list&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /inference/get-controlnet-model-list</code></p>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kc">null</span>
</code></pre></div>
<h3 id="get-controlnet-model-list-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h1 id="inferencerun-model-merge">/inference/run-model-merge</h1>
<p><a id="opIdrun_model_merge_inference_run_model_merge_post"></a></p>
<h3 id="_19"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/inference/run-model-merge&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/inference/run-model-merge&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>POST /inference/run-model-merge</code></p>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;primary_model_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;primary_model_name,&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;secondary_model_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;secondary_model_name,&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tertiary_model_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;teritary_model_name&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="run-model-merge-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful Response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h1 id="stable-diffusion-train-and-deploy-api-default">default</h1>

<p><br/></p>
<h1 id="modelpost">/model(POST)</h1>
<h3 id="_20"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/model&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;model_type&quot;: &quot;Stable-diffusion&quot;,</span>
<span class="s1">  &quot;name&quot;: &quot;testmodelcreation01&quot;,</span>
<span class="s1">  &quot;filenames&quot;: [</span>
<span class="s1">    {</span>
<span class="s1">      &quot;filename&quot;: &quot;v1-5-pruned-emaonly.safetensors.tar&quot;,</span>
<span class="s1">      &quot;parts_number&quot;: 5</span>
<span class="s1">    }</span>
<span class="s1">  ],</span>
<span class="s1">  &quot;params&quot;: {</span>
<span class="s1">    &quot;create_model_params&quot;: {</span>
<span class="s1">      &quot;new_model_name&quot;: &quot;testmodelcreation01&quot;,</span>
<span class="s1">      &quot;ckpt_path&quot;: &quot;v1-5-pruned-emaonly.safetensors&quot;,</span>
<span class="s1">      &quot;from_hub&quot;: false,</span>
<span class="s1">      &quot;new_model_url&quot;: &quot;&quot;,</span>
<span class="s1">      &quot;new_model_token&quot;: &quot;&quot;,</span>
<span class="s1">      &quot;extract_ema&quot;: false,</span>
<span class="s1">      &quot;train_unfrozen&quot;: false,</span>
<span class="s1">      &quot;is_512&quot;: true</span>
<span class="s1">    }</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/model&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>POST /model</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;model_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;testmodelcreation01&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;filenames&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v1-5-pruned-emaonly.safetensors.tar&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;parts_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;create_model_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;new_model_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;testmodelcreation01&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;ckpt_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v1-5-pruned-emaonly.safetensors&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;from_hub&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;new_model_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;new_model_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;extract_ema&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;train_unfrozen&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;is_512&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="create-model-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;job&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Initialed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;s3_base&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_Location&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;model_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="nt">&quot;s3PresignUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;upload_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;bucket&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bucket name&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object key&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="create-model-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="create-model-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="modelput">/model(PUT)</h1>
<h3 id="_21"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;model_id&quot;</span><span class="p">:</span> <span class="s2">&quot;c9f59ee7-0672-4fd1-8a45-8a494de8a48d&quot;</span><span class="p">,</span>
<span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Creating&quot;</span><span class="p">,</span>
<span class="s2">&quot;multi_parts_tags&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;v1-5-pruned-emaonly.safetensors.tar&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;cc95c41fa28463c8e9b88d67805f24e0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;e4378bd84b0497559c55be8373cb79d0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;815b68042f6ac5e60b9cff5c697ffea6&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">3</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;2c6cfbd9bfbafd5664cdc8b3ba07df6d&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">4</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;e613d37e5065b0cd63f1cad216423141&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">5</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/model&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;model_id&quot;: &quot;c9f59ee7-0672-4fd1-8a45-8a494de8a48d&quot;,</span>
<span class="s1">  &quot;status&quot;: &quot;Creating&quot;,</span>
<span class="s1">  &quot;multi_parts_tags&quot;: {</span>
<span class="s1">    &quot;v1-5-pruned-emaonly.safetensors.tar&quot;: [</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;cc95c41fa28463c8e9b88d67805f24e0&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 1</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;e4378bd84b0497559c55be8373cb79d0&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 2</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;815b68042f6ac5e60b9cff5c697ffea6&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 3</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;2c6cfbd9bfbafd5664cdc8b3ba07df6d&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 4</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;e613d37e5065b0cd63f1cad216423141&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 5</span>
<span class="s1">      }</span>
<span class="s1">    ]</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/model&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;PUT&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>PUT /model</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;model_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c9f59ee7-0672-4fd1-8a45-8a494de8a48d&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Creating&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;multi_parts_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;v1-5-pruned-emaonly.safetensors.tar&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cc95c41fa28463c8e9b88d67805f24e0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e4378bd84b0497559c55be8373cb79d0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;815b68042f6ac5e60b9cff5c697ffea6&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2c6cfbd9bfbafd5664cdc8b3ba07df6d&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e613d37e5065b0cd63f1cad216423141&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="update-model-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;job&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_Location&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job.id&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;endpointName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;endpoint_name&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;jobStatus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Created&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;jobType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="update-model-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="update-model-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="modelsget">/models(GET)</h1>
<h3 id="_22"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/models&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/models&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /models</code></p>
<h3 id="list-models-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>types</td>
<td>query</td>
<td>array[string]</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;models&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;model_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12341234</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Initialed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;output_s3_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_LOCATION/&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="list-models-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="list-models-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="checkpoint">/checkpoint</h1>
<h3 id="_23"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;checkpoint_type&quot;</span><span class="p">:</span> <span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="s2">&quot;filenames&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;v1-5-pruned-emaonly.safetensors&quot;</span><span class="p">,</span>
    <span class="s2">&quot;parts_number&quot;</span><span class="p">:</span> <span class="mi">5</span>
  <span class="p">}</span>
<span class="p">],</span>
<span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;new_model_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_api&quot;</span><span class="p">,</span>
  <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;string&quot;</span><span class="p">:</span> <span class="s2">&quot;abc&quot;</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/checkpoint&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;checkpoint_type&quot;: &quot;Stable-diffusion&quot;,</span>
<span class="s1">  &quot;filenames&quot;: [</span>
<span class="s1">    {</span>
<span class="s1">      &quot;filename&quot;: &quot;v1-5-pruned-emaonly.safetensors&quot;,</span>
<span class="s1">      &quot;parts_number&quot;: 5</span>
<span class="s1">    }</span>
<span class="s1">  ],</span>
<span class="s1">  &quot;params&quot;: {</span>
<span class="s1">    &quot;new_model_name&quot;: &quot;test_api&quot;,</span>
<span class="s1">    &quot;number&quot;: 1,</span>
<span class="s1">    &quot;string&quot;: &quot;abc&quot;</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/checkpoint&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>POST /checkpoint</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;checkpoint_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;filenames&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v1-5-pruned-emaonly.safetensors&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;parts_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;new_model_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test_api&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;number&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;string&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abc&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="create-checkpoint-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;checkpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;s3_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_Location&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Initialed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;s3PresignUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;upload_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id,&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;bucket&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bucket name,&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;key,&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="create-checkpoint-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="create-checkpoint-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="checkpointput">/checkpoint(put)</h1>
<h3 id="_24"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;checkpoint_id&quot;</span><span class="p">:</span> <span class="s2">&quot;906a5a1f-6833-45aa-8a10-fb0e983e0eae&quot;</span><span class="p">,</span>
<span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Active&quot;</span><span class="p">,</span>
<span class="s2">&quot;multi_parts_tags&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;v1-5-pruned-emaonly.safetensors.tar&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;cc95c41fa28463c8e9b88d67805f24e0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;e4378bd84b0497559c55be8373cb79d0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;815b68042f6ac5e60b9cff5c697ffea6&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">3</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;2c6cfbd9bfbafd5664cdc8b3ba07df6d&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">4</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;e613d37e5065b0cd63f1cad216423141&quot;</span><span class="p">,</span>
      <span class="s2">&quot;PartNumber&quot;</span><span class="p">:</span> <span class="mi">5</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/checkpoint&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;checkpoint_id&quot;: &quot;906a5a1f-6833-45aa-8a10-fb0e983e0eae&quot;,</span>
<span class="s1">  &quot;status&quot;: &quot;Active&quot;,</span>
<span class="s1">  &quot;multi_parts_tags&quot;: {</span>
<span class="s1">    &quot;v1-5-pruned-emaonly.safetensors.tar&quot;: [</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;cc95c41fa28463c8e9b88d67805f24e0&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 1</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;e4378bd84b0497559c55be8373cb79d0&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 2</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;815b68042f6ac5e60b9cff5c697ffea6&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 3</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;2c6cfbd9bfbafd5664cdc8b3ba07df6d&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 4</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;ETag&quot;: &quot;e613d37e5065b0cd63f1cad216423141&quot;,</span>
<span class="s1">        &quot;PartNumber&quot;: 5</span>
<span class="s1">      }</span>
<span class="s1">    ]</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/checkpoint&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;PUT&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>PUT /checkpoint</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;checkpoint_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;906a5a1f-6833-45aa-8a10-fb0e983e0eae&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;multi_parts_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;v1-5-pruned-emaonly.safetensors.tar&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cc95c41fa28463c8e9b88d67805f24e0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e4378bd84b0497559c55be8373cb79d0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;815b68042f6ac5e60b9cff5c697ffea6&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2c6cfbd9bfbafd5664cdc8b3ba07df6d&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ETag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e613d37e5065b0cd63f1cad216423141&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;PartNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="update-checkpoints-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;checkpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;s3_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_Location&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="update-checkpoints-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="update-checkpoints-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="checkpoints">/checkpoints</h1>
<h3 id="_25"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/checkpoints&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/checkpoints&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /checkpoints</code></p>
<h3 id="list-checkpoints-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>query</td>
<td>array[string]</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>types</td>
<td>query</td>
<td>array[string]</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;checkpoints&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;s3Location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_Location&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;object_1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;object_2&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12341234</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="list-checkpoints-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="list-checkpoints-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="train-apitrainpost">/train-api/train(POST)</h1>
<p><a id="train-api-post"></a></p>
<h3 id="_26"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">const</span> <span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;train_type&quot;</span><span class="p">:</span> <span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
    <span class="s2">&quot;model_id&quot;</span><span class="p">:</span> <span class="s2">&quot;7ec754d6-1f68-46ea-9cfe-efeeed0c986c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;training_params&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;data_tar_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;s3://&lt;your_s3_bucket&gt;/dataset/&lt;your_dataset_name&gt;&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;class_data_tar_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;training_instance_type&quot;</span><span class="p">:</span> <span class="s2">&quot;ml.g5.2xlarge&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;config_params&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;concepts_list&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s2">&quot;class_data_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;class_guidance_scale&quot;</span><span class="p">:</span> <span class="mf">7.5</span><span class="p">,</span>
                <span class="s2">&quot;class_infer_steps&quot;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
                <span class="s2">&quot;class_negative_prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;class_prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;class_token&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;instance_prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;hanportraittest123&quot;</span><span class="p">,</span>
                <span class="s2">&quot;num_class_images_per&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;instance_data_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;s3://&lt;your_s3_bucket&gt;/dataset/&lt;your_dataset_name&gt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;instance_token&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_valid&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
                <span class="s2">&quot;n_save_sample&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;sample_seed&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;save_guidance_scale&quot;</span><span class="p">:</span> <span class="mf">7.5</span><span class="p">,</span>
                <span class="s2">&quot;save_infer_steps&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
                <span class="s2">&quot;save_sample_negative_prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;save_sample_prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;save_sample_template&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
            <span class="p">}],</span>
            <span class="s2">&quot;model_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;models/dreambooth/&lt;your_model_name&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model_name&quot;</span><span class="p">:</span> <span class="s2">&quot;your_model_name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pretrained_model_name_or_path&quot;</span><span class="p">:</span> <span class="s2">&quot;models/dreambooth/&lt;your_model_name&gt;/working&quot;</span><span class="p">,</span>
            <span class="s2">&quot;num_train_epochs&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">&quot;use_lora&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/train-api/train&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;train_type&quot;: &quot;Stable-diffusion&quot;,</span>
<span class="s1">    &quot;model_id&quot;: &quot;7ec754d6-1f68-46ea-9cfe-efeeed0c986c&quot;,</span>
<span class="s1">    &quot;params&quot;: {</span>
<span class="s1">        &quot;training_params&quot;: {</span>
<span class="s1">            &quot;data_tar_list&quot;: [</span>
<span class="s1">                &quot;s3://&lt;your_s3_bucket&gt;/dataset/&lt;your_dataset_name&gt;&quot;</span>
<span class="s1">            ],</span>
<span class="s1">            &quot;class_data_tar_list&quot;: [</span>
<span class="s1">                &quot;&quot;</span>
<span class="s1">            ],</span>
<span class="s1">            &quot;training_instance_type&quot;: &quot;ml.g5.2xlarge&quot;</span>
<span class="s1">        },</span>
<span class="s1">        &quot;config_params&quot;: {</span>
<span class="s1">            &quot;concepts_list&quot;: [{</span>
<span class="s1">                &quot;class_data_dir&quot;: &quot;&quot;,</span>
<span class="s1">                &quot;class_guidance_scale&quot;: 7.5,</span>
<span class="s1">                &quot;class_infer_steps&quot;: 40,</span>
<span class="s1">                &quot;class_negative_prompt&quot;: &quot;&quot;,</span>
<span class="s1">                &quot;class_prompt&quot;: &quot;&quot;,</span>
<span class="s1">                &quot;class_token&quot;: &quot;&quot;,</span>
<span class="s1">                &quot;instance_prompt&quot;: &quot;hanportraittest123&quot;,</span>
<span class="s1">                &quot;num_class_images_per&quot;: 0,</span>
<span class="s1">                &quot;instance_data_dir&quot;: &quot;s3://&lt;your_s3_bucket&gt;/dataset/&lt;your_dataset_name&gt;&quot;,</span>
<span class="s1">                &quot;instance_token&quot;: &quot;&quot;,</span>
<span class="s1">                &quot;is_valid&quot;: true,</span>
<span class="s1">                &quot;n_save_sample&quot;: 1,</span>
<span class="s1">                &quot;sample_seed&quot;: -1,</span>
<span class="s1">                &quot;save_guidance_scale&quot;: 7.5,</span>
<span class="s1">                &quot;save_infer_steps&quot;: 20,</span>
<span class="s1">                &quot;save_sample_negative_prompt&quot;: &quot;&quot;,</span>
<span class="s1">                &quot;save_sample_prompt&quot;: &quot;&quot;,</span>
<span class="s1">                &quot;save_sample_template&quot;: &quot;&quot;</span>
<span class="s1">            }],</span>
<span class="s1">            &quot;model_dir&quot;: &quot;models/dreambooth/&lt;your_model_name&gt;&quot;,</span>
<span class="s1">            &quot;model_name&quot;: &quot;your_model_name&quot;,</span>
<span class="s1">            &quot;pretrained_model_name_or_path&quot;: &quot;models/dreambooth/&lt;your_model_name&gt;/working&quot;,</span>
<span class="s1">            &quot;num_train_epochs&quot;: 100,</span>
<span class="s1">            &quot;use_lora&quot;: true,</span>
<span class="s1">            &quot;revision&quot;: &quot;&quot;</span>
<span class="s1">        }</span>
<span class="s1">    }</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/train-api/train&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>POST /train-api/train</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;train_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;model_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7ec754d6-1f68-46ea-9cfe-efeeed0c986c&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;training_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data_tar_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;s3://&lt;your_s3_bucket&gt;/dataset/&lt;your_dataset_name&gt;&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;class_data_tar_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;training_instance_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ml.g5.2xlarge&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;config_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;concepts_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">                </span><span class="nt">&quot;class_data_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;class_guidance_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">7.5</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;class_infer_steps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;class_negative_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;class_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;class_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;instance_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hanportraittest123&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;num_class_images_per&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;instance_data_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://&lt;your_s3_bucket&gt;/dataset/&lt;your_dataset_name&gt;&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;instance_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;is_valid&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;n_save_sample&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;sample_seed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;save_guidance_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">7.5</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;save_infer_steps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;save_sample_negative_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;save_sample_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;save_sample_template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">            </span><span class="p">}],</span>
<span class="w">            </span><span class="nt">&quot;model_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;models/dreambooth/&lt;your_model_name&gt;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;model_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;your_model_name&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;pretrained_model_name_or_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;models/dreambooth/&lt;your_model_name&gt;/working&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;num_train_epochs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;use_lora&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;revision&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="create-train-job-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;81f00711-7cc3-4cac-90f3-13934f29524a&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Initial&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;trainType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;training_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="err">...</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;config_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="err">...</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;input_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://&lt;your_s3_bucket&gt;/train/&lt;your_model_name&gt;/81f00711-7cc3-4cac-90f3-13934f29524a/input&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;s3PresignUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="create-train-job-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="create-train-job-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="trainput">/train(PUT)</h1>
<h3 id="_27"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;train_job_id&quot;</span><span class="p">:</span> <span class="s2">&quot;b5183dd3-0279-46ff-b64e-6cd687c0fe71&quot;</span><span class="p">,</span>
<span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Training&quot;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/train&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;train_job_id&quot;: &quot;b5183dd3-0279-46ff-b64e-6cd687c0fe71&quot;,</span>
<span class="s1">  &quot;status&quot;: &quot;Training&quot;</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/train&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;PUT&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>PUT /train</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;train_job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b5183dd3-0279-46ff-b64e-6cd687c0fe71&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Training&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="update-train-job-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;job&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Training&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12341234</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;trainType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="nt">&quot;input_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_Location&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="update-train-job-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="update-train-job-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="trainsget">/trains(GET)</h1>
<h3 id="_28"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/trains&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/trains&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /trains</code></p>
<h3 id="list-train-jobs-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>types</td>
<td>query</td>
<td>array[string]</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200,&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;trainJobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;modelName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;model_name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Complete&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;trainType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stable-diffusion&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1234124</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sagemakerTrainName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sagemaker_train_name&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="list-train-jobs-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="list-train-jobs-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="datasetpost">/dataset(POST)</h1>
<h3 id="_29"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">const</span> <span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;dataset_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_dataset&quot;</span><span class="p">,</span>
<span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/a/file.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;another_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;png&quot;</span>
  <span class="p">}</span>
<span class="p">],</span>
<span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/dataset&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;dataset_name&quot;: &quot;test_dataset&quot;,</span>
<span class="s1">  &quot;content&quot;: [</span>
<span class="s1">    {</span>
<span class="s1">      &quot;filename&quot;: &quot;/path/to/a/file.png&quot;,</span>
<span class="s1">      &quot;name&quot;: &quot;another_name&quot;,</span>
<span class="s1">      &quot;type&quot;: &quot;png&quot;</span>
<span class="s1">    }</span>
<span class="s1">  ],</span>
<span class="s1">  &quot;params&quot;: {}</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/dataset&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>POST /dataset</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;dataset_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test_dataset&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/a/file.png&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;another_name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;png&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="create-dataset-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;datasetName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dataset_name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;s3PresignUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_Location&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="create-dataset-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="create-dataset-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="datasetput">/dataset(PUT)</h1>
<h3 id="_30"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">inputBody</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;dataset_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_dataset&quot;</span><span class="p">,</span>
<span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Enabled&quot;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/dataset&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">json</span> <span class="o">=</span> <span class="n">inputBody</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">inputBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;dataset_name&quot;: &quot;test_dataset&quot;,</span>
<span class="s1">  &quot;status&quot;: &quot;Enabled&quot;</span>
<span class="s1">}&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/dataset&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;PUT&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">inputBody</span><span class="p">,</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>PUT /dataset</code></p>
<blockquote>
<p>Body 参数</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;dataset_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test_dataset&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="update-dataset-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;datasetName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dataset_name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Enabled&quot;</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="update-dataset-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="update-dataset-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="datasetsget">/datasets(GET)</h1>
<h3 id="_31"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/datasets&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/prod/datasets&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /prod/datasets</code></p>
<h3 id="list-datasets-by-dataset-status-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataset_status</td>
<td>query</td>
<td>array[string]</td>
<td>false</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;datasets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;datasetName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dataset_name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;s3&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://S3_Location&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Enabled&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1234124</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="list-datasets-by-dataset-status-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="list-datasets-by-dataset-status-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>

<p><br/></p>
<h1 id="dataset_namedata">/{dataset_name}/data</h1>
<h3 id="_32"><strong>示例：</strong></h3>
<p>Python示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="s1">&#39;x-api-key&#39;</span><span class="p">:</span> <span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/</span><span class="si">{basePath}</span><span class="s1">/</span><span class="si">{dataset_name}</span><span class="s1">/data&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Javascript示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;Accept&#39;</span><span class="o">:</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;x-api-key&#39;</span><span class="o">:</span><span class="s1">&#39;API_TOKEN_VALUE&#39;</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://&lt;Your API Gateway ID&gt;.execute-api.&lt;Your AWS Account Region&gt;.amazonaws.com/{basePath}/{dataset_name}/data&#39;</span><span class="p">,</span>
<span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>

<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>GET /{dataset_name}/data</code></p>
<h3 id="list-dataset-items-by-dataset-name-parameters">参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>数据类型</th>
<th>是否需要填写</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataset_name</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>none</td>
</tr>
</tbody>
</table>
<blockquote>
<p>响应示例</p>
<p>200 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dataset_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dataset_name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;key&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;preview_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://presigned_s3_url&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;dataStatus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Enabled&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>500 响应</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_message&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="list-dataset-items-by-dataset-name-responses">响应</h3>

<table>
<thead>
<tr>
<th>状态码</th>
<th>含义</th>
<th>描述</th>
<th>结构</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Successful response</td>
<td>Inline</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Error response</td>
<td>Inline</td>
</tr>
</tbody>
</table>
<h3 id="list-dataset-items-by-dataset-name-responseschema">响应结构</h3>

<aside class="warning">
要执行此操作，需要在请求时添加api_key进行身份验证
</aside>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": "develop"}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>